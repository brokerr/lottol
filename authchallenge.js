"use strict";var autosubmit=!1,recaptchaCallback,ADS_FPTI=function(){var e=document.getElementById("captcha-standalone"),t=e.getAttribute("data-csrf"),n=e.getAttribute("data-sessionid"),r=typeof PAYPAL!="undefined"&&typeof PAYPAL.analytics!="undefined"&&typeof PAYPAL.analytics.instance!="undefined"&&typeof fpti!="undefined";r&&(PAYPAL.analytics.startClientErrorTracking(),PAYPAL.analytics.startCPLTracking());var i=function(e){var r=new XMLHttpRequest;r.open("POST","/auth/logclientdata"),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.timeout=15e3;var i={fpti:e,_csrf:t,_sessionID:n};r.send(JSON.stringify(i))},s=function(e){try{var t="main:authchallenge:"+window.location.pathname.replace(/\//g,":");fpti.pgrp=t,fpti.page=t,e.captchaState&&(fpti.captchaState=e.captchaState),e.message&&(fpti.message=e.message),i(fpti),fpti.captchaState=""}catch(n){PAYPAL.analytics.logJSError(new Error(n),"Failed to post data.","CLIENT_SIDE_LOGGING_ERROR")}};return{STATES:{RECAPTCHA_SERVED:"CLIENT_SIDE_RECAPTCHA_SERVED",RECAPTCHA_SOLVED:"CLIENT_SIDE_RECAPTCHA_SOLVED",RECAPTCHA_NOT_REACHABLE:"CLIENT_SIDE_RECAPTCHA_NOT_REACHABLE",RECAPTCHA_RENDER_FAILURE:"CLIENT_SIDE_RECAPTCHA_RENDER_FAILURE",RECAPTCHA_MESSAGE_PARSE_FAILED:"CLIENT_SIDE_RECAPTCHA_MESSAGE_PARSE_FAILED",RECAPTCHA_API_JS_LOADED:"CLIENT_SIDE_RECAPTCHA_API_JS_LOADED",PPCAPTCHA_SERVED:"CLIENT_SIDE_PPCAPTCHA_SERVED",PPCAPTCHA_SOLVED:"CLIENT_SIDE_PPCAPTCHA_SOLVED",PPCAPTCHA_REFRESH:"CLIENT_SIDE_PPCAPTCHA_REFRESH",PPCAPTCHA_PLAY_AUDIO:"CLIENT_SIDE_PPCAPTCHA_PLAY_AUDIO",SJS_SERVED:"CLIENT_SIDE_SJS_SERVED",SJS_SOLVED:"CLIENT_SIDE_SJS_SOLVED",FALLBACK_SJS_TO_PPCAPTCHA:"CLIENT_SIDE_FALLBACK_SJS_TO_PPCAPTCHA",MESSAGE_FROM_NON_PAYPAL_ORIGIN:"CLIENT_SIDE_MESSAGE_FROM_NON_PAYPAL_ORIGIN"},RENDER_FAILURE:"RENDER_FAILURE",NOT_REACHABLE:"NOT_REACHABLE",IS_FPTI_ENABLED:r,triggerADSClientSideFPTITracking:function(e){try{r&&s(e)}catch(t){}}}}();window.onload=function(e){if(ADS_FPTI.IS_FPTI_ENABLED)try{var t=function(){var e;try{e="Navigator(appCodeName="+navigator.appCodeName+"|appName="+navigator.appName+"|appVersion="+navigator.appVersion+"|userAgent="+navigator.userAgent+"|webdriver"+navigator.webdriver+"|deviceMemory"+navigator.deviceMemory,e+="|geolocation(",navigator.geolocation!==undefined?e+="Available)":e+="NotAvailable)",e=e+"|language="+navigator.language+"|onLine="+navigator.onLine+"|platform="+navigator.platform+"|product="+navigator.product+")",e=e+"|History("+history.length+")",e=e+"|screen("+screen.width+","+screen.height+","+screen.availWidth+","+screen.availHeight+","+screen.colorDepth+","+screen.pixelDepth+")",e=e+"|window(Width="+(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)+"|height="+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight),e=e+"|mozRTCPeerConnection="+window.mozRTCPeerConnection+"|Chrome="+window.chrome+"|callPhantom="+window.callPhantom+"|_phantom="+window._phantom+"|str="+window.str+"|length="+window.length+"|devicePixelRatio="+window.devicePixelRatio+")",e=e+"|loginPresent("+(document.getElementById("login")!==null)+")",e=e+"|loginTitle("+document.title+")",e=e+"|referrer("+document.referrer+")";if(navigator.plugins===undefined)e+="|No Plugin data";else{e+="|plugins:";for(var t=0,n=navigator.plugins.length;t<n;t++)e=e+"("+navigator.plugins[t].name+" | "+navigator.plugins[t].filename+" | "+navigator.plugins[t].description+" | "+")"}e=e+"|hardwareConcurrency("+navigator.hardwareConcurrency+")",e=e+"|mozLockOrientation("+screen.mozLockOrientation+")",e=e+"|mozUnlockOrientation("+screen.mozUnlockOrientation+")",e=e+"|mozOrientation("+screen.mozOrientation+")";try{null[0](),e+="|Error(No Error)"}catch(r){e=e+"|Error("+r+")"}}catch(i){e="Error processing script:"+i.message}return e!==undefined?e:"Almost there"},n="main:authchallenge:"+window.location.pathname.replace(/\//g,":"),r={pageData:{page:n,ads_client_data:t()}};PAYPAL.analytics.endCPLTracking(r)}catch(i){try{PAYPAL.analytics.logJSError(new Error(i),"Error fetching client side parameters.","CLIENT_SIDE_LOGGING_ERROR")}catch(e){}}},function(){function f(e,t){var n=document.querySelector('form input[name="'+e+'"]');n&&n.parentNode.removeChild(n);var n=document.createElement("input");n.type="hidden",n.name=e,n.value=t,r?i.appendChild(n):document.forms.challenge.appendChild(n)}var e=document.getElementById("captcha-standalone"),t="ppcaptcha",n=!1,r,i;if(e){t=e.getAttribute("data-captcha-type"),autosubmit=!e.getAttribute("data-disable-autosubmit")||e.getAttribute("data-disable-autosubmit")!=="true",n=e.getAttribute("data-json-captcha-flow")==="true",r=e.getAttribute("data-inline-captcha")==="true",r&&(i=document.getElementById("ads-plugin").closest("form"));if(!autosubmit&&t==="recaptcha"){var s=document.querySelector("#ads-plugin #continue");s&&(s.style.display="none")}var o=e.getAttribute("data-jse");o&&f("jse",o)}var u=function(){if(n){var e=document.createEvent("Event");e.initEvent("challengerendered",!0,!0),document.getElementById("captcha-standalone").dispatchEvent(e)}},a=function(){autosubmit=!1,document.getElementById("ads-plugin").style.display="block",u()};if(autosubmit){var l=document.createElement("script"),c=e.getAttribute("data-ads-js-challenge-url");if(!c){ADS_FPTI.triggerADSClientSideFPTITracking({captchaState:ADS_FPTI.STATES.FALLBACK_SJS_TO_PPCAPTCHA,message:"data-ads-js-challenge-url isn't present",isInlineCaptcha:r}),a();return}l.src=c,l.onload=function(){try{ADS_FPTI.triggerADSClientSideFPTITracking({captchaState:ADS_FPTI.STATES.SJS_SERVED,isInlineCaptcha:r});if(typeof window["convertFunctionName"]!="function"){ADS_FPTI.triggerADSClientSideFPTITracking({captchaState:ADS_FPTI.STATES.FALLBACK_SJS_TO_PPCAPTCHA,message:"convertFunctionName is not a function",isInlineCaptcha:r}),a();return}f("ads_token_js",window.convertFunctionName.call()),f(window.postParamName,window.postParamValue),ADS_FPTI.triggerADSClientSideFPTITracking({captchaState:ADS_FPTI.STATES.SJS_SOLVED,isInlineCaptcha:r}),!n&&!r&&document.forms.challenge.submit(),u()}catch(e){ADS_FPTI.triggerADSClientSideFPTITracking({captchaState:ADS_FPTI.STATES.FALLBACK_SJS_TO_PPCAPTCHA,message:e,isInlineCaptcha:r}),a()}},l.onerror=function(){ADS_FPTI.triggerADSClientSideFPTITracking({captchaState:ADS_FPTI.STATES.FALLBACK_SJS_TO_PPCAPTCHA,message:"ERROR",isInlineCaptcha:r}),a()},e.appendChild(l)}else{autosubmit=!1,document.getElementById("ads-plugin").style.display="block";var h;if(t==="recaptcha"){h=function(e){if(i&&i.elements){var t=e.elements.recaptcha;if(t&&typeof t.value=="string")return!0}var n=document.getElementById("frameRecaptcha");n&&n.className.indexOf("error")===-1&&(n.className="error");var r=document.querySelector("#ads-plugin p.invalidInlineCode");return r&&r.className.indexOf("hide")!==-1&&(r.className=r.className.replace(/\bhide\b/g,"")),!1};var p=function(t){var s=document.getElementById("frameRecaptcha");s&&(s.className="");var o=document.querySelector("#ads-plugin p.invalidInlineCode");o&&o.className.indexOf("hide")===-1&&(o.className=o.className+" hide");var u=ADS_FPTI.STATES.RECAPTCHA_SOLVED;t===ADS_FPTI.RENDER_FAILURE?u=ADS_FPTI.STATES.RECAPTCHA_RENDER_FAILURE:t===ADS_FPTI.NOT_REACHABLE&&(u=ADS_FPTI.STATES.RECAPTCHA_NOT_REACHABLE),ADS_FPTI.triggerADSClientSideFPTITracking({captchaState:u,isInlineCaptcha:r});if(r&&u!==ADS_FPTI.STATES.RECAPTCHA_SOLVED){var a=new XMLHttpRequest;a.open("POST","/auth/refreshinlinecaptcha",!0),a.setRequestHeader("Accept","application/json"),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.setRequestHeader("x-requested-with","XMLHttpRequest"),a.onreadystatechange=function(){if(a.readyState===4&&a.status===200){var t=JSON.parse(a.responseText);if(t&&t.inlineRefreshResponse){e=document.getElementById("ads-plugin");if(!e)return;var n=e.parentNode,r=document.createElement("div");r.innerHTML=t.inlineRefreshResponse,n.replaceChild(r,e);var i=function(){var e=document.querySelector("#ads-plugin script[data-name=authchallenge]");if(e&&e.src){var t=document.createElement("script");t.type="text/javascript",t.src=e.src,r.appendChild(t)}},s=document.querySelector("#ads-plugin script[data-name=ppcaptcha]");if(s&&s.src){var o=document.createElement("script");o.type="text/javascript",o.src=s.src,o.onload=function(){i()},o.onerror=function(){i()},r.appendChild(o)}else i()}}},a.onerror=function(){},a.send("recaptcha="+t+"&_csrf="+encodeURIComponent(i._csrf.value));return}f("recaptcha",t);if(r)return;n?document.getElementById("continue").click():document.forms.challenge.submit()};ADS_FPTI.triggerADSClientSideFPTITracking({captchaState:ADS_FPTI.STATES.RECAPTCHA_SERVED,isInlineCaptcha:r});if(e.getAttribute("data-view-type")==="webview"){var d,v={ar_EG:"ar",da_DK:"da",de_DE:"de",de_DE_AT:"de-AT",de_DE_CH:"de-CH",en_AU:"en",en_GB:"en-GB",en_US:"en",es_ES:"es",es_XC:"es-419",fr_CA:"fr-CA",fr_FR:"fr",fr_XC:"fr",he_IL:"iw",id_ID:"id",it_IT:"it",ja_JP:"ja",ko_KR:"ko",nl_NL:"nl",no_NO:"no",pl_PL:"pl",pt_BR:"pt-BR",pt_PT:"pt-PT",ru_RU:"ru",sv_SE:"sv",th_TH:"th",tr_TR:"tr",zh_CN:"zh-CN",zh_HK:"zh-HK",zh_TW:"zh-TW",zh_XC:"zh-CN",ar:"ar",da:"da",de:"de",en:"en",es:"es",fr:"fr",id:"id",ko:"ko",pt:"pt",ru:"ru",zh:"zh-CN"},m=function(){var e=document.getElementsByClassName("transitioning");e&&e.length>0&&(e[0].className="transitioning spinner",e[0].setAttribute("aria-busy","true"))},g=function(){var e=document.getElementsByClassName("transitioning");e&&e.length>0&&(e[0].className="transitioning hide",e[0].removeAttribute("aria-busy"))},y=function(e,t){var n=e.toLowerCase();t!==undefined&&(t.toLowerCase()==="at"||t.toLowerCase()==="ch")&&e==="de_DE"&&(e=e+"_"+t.toUpperCase());if(n.indexOf("rowlite")!==-1||n.indexOf("groupa")!==-1||n.indexOf("groupb")!==-1||n.indexOf("groupc")!==-1)e=n.substring(0,2);return v[e]||"en"},b=function(){typeof grecaptcha=="undefined"&&p("NOT_REACHABLE")},w=function(){var t=e.getAttribute("data-locale")||"",n=e.getAttribute("acCountry")||"";return y(t,n)},E=function(){var t=parseInt(e.getAttribute("data-locale"));return isNaN(t)?5e3:t};m(),recaptchaCallback=function(){ADS_FPTI.triggerADSClientSideFPTITracking({captchaState:ADS_FPTI.STATES.RECAPTCHA_API_JS_LOADED,isInlineCaptcha:r}),g();try{grecaptcha.render("recaptcha",{sitekey:e.getAttribute("data-sitekey")||"",callback:p,theme:"light",size:"normal","error-callback":function(){p("RENDER_FAILURE")}})}catch(t){window.clearTimeout(d),p("RENDER_FAILURE")}},d=window.setTimeout(b,E());var S=document.createElement("script");S.src="https://www.recaptcha.net/recaptcha/api.js?onload=recaptchaCallback&render=explicit&hl="+w(),document.getElementsByTagName("head")[0].appendChild(S)}else if(!document.getElementById("recaptchaEventListenerAdded")){var x=document.createElement("div");x.id="recaptchaEventListenerAdded",document.getElementsByTagName("html")[0].appendChild(x);var T=window.addEventListener?"addEventListener":"attachEvent",N=window[T],C=T=="attachEvent"?"onmessage":"message";N(C,function(e){if(!e.data||e.origin!=="https://www.paypalobjects.com"){ADS_FPTI.triggerADSClientSideFPTITracking({captchaState:ADS_FPTI.STATES.MESSAGE_FROM_NON_PAYPAL_ORIGIN,message:e.origin,isInlineCaptcha:r});return}if(e.data===ADS_FPTI.STATES.RECAPTCHA_API_JS_LOADED){ADS_FPTI.triggerADSClientSideFPTITracking({captchaState:ADS_FPTI.STATES.RECAPTCHA_API_JS_LOADED,isInlineCaptcha:r});return}var t;try{t=JSON.parse(e.data)}catch(n){ADS_FPTI.triggerADSClientSideFPTITracking({captchaState:ADS_FPTI.STATES.RECAPTCHA_MESSAGE_PARSE_FAILED,message:"Client side message parse failed,"+JSON.stringify(e.data)}),t=e.data,(typeof t=="string"||t instanceof String)&&p(e.data);return}if(t.source!=="recaptchav2iframe")return;if(t.hasOwnProperty("frameHeight")){document.getElementById("frameRecaptcha").style.height=t.frameHeight;return}t.hasOwnProperty("token")&&p(t.token)},!1)}}else r&&i&&window.ppcaptcha&&(window.ppcaptcha.adsCaptcha&&window.ppcaptcha.adsCaptcha.render(),h=function(){return window.ppcaptcha.errorDisplay&&window.ppcaptcha.errorDisplay.verifyForm?window.ppcaptcha.errorDisplay.verifyForm(i):!0}),ADS_FPTI.triggerADSClientSideFPTITracking({captchaState:ADS_FPTI.STATES.PPCAPTCHA_SERVED,isInlineCaptcha:r});window.validateChallengeInput=h,u()}}();